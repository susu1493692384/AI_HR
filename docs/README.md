# AIæ‹›è˜ç³»ç»Ÿé¡¹ç›®æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

åŸºäºReact + TypeScriptå‰ç«¯å’ŒPython FastAPIåç«¯çš„ä¼ä¸šAIæ‹›è˜ç³»ç»Ÿï¼Œé‡‡ç”¨DDDæ¶æ„ï¼Œé›†æˆLangChain/LangGraphå®ç°æ™ºèƒ½ç®€å†åˆ†æï¼Œé€šè¿‡RAGFlowæ„å»ºäººæ‰çŸ¥è¯†åº“ã€‚

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### å‰ç«¯
- **æ¡†æ¶**: React 19 + TypeScript
- **UIåº“**: Ant Design
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTPå®¢æˆ·ç«¯**: React Query + Axios
- **è·¯ç”±**: React Router v6

#### åç«¯
- **æ¡†æ¶**: Python FastAPI
- **æ•°æ®åº“**: PostgreSQL + SQLAlchemy (å¼‚æ­¥)
- **ç¼“å­˜**: Redis
- **ä»»åŠ¡é˜Ÿåˆ—**: Celery
- **AIæ¡†æ¶**: LangChain + LangGraph

#### å¤–éƒ¨æœåŠ¡
- **RAGFlow**: ç®€å†çŸ¥è¯†åº“ç®¡ç†
- **AIæ¨¡å‹**: æ”¯æŒOpenAIã€ç™¾åº¦æ–‡å¿ƒä¸€è¨€ã€é˜¿é‡Œé€šä¹‰åƒé—®ç­‰

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯React     â”‚    â”‚   åç«¯FastAPI   â”‚    â”‚   å¤–éƒ¨æœåŠ¡      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - ç”¨æˆ·ç•Œé¢      â”‚â—„â”€â”€â–ºâ”‚ - RESTful API   â”‚â—„â”€â”€â–ºâ”‚ - RAGFlow       â”‚
â”‚ - çŠ¶æ€ç®¡ç†      â”‚    â”‚ - ä¸šåŠ¡é€»è¾‘      â”‚    â”‚ - AIæ¨¡å‹API     â”‚
â”‚ - è·¯ç”±ç®¡ç†      â”‚    â”‚ - æ•°æ®éªŒè¯      â”‚    â”‚ - æ‹›è˜ç½‘ç«™API   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æ•°æ®å­˜å‚¨      â”‚
                       â”‚                 â”‚
                       â”‚ - PostgreSQL    â”‚
                       â”‚ - Redis         â”‚
                       â”‚ - æ–‡ä»¶å­˜å‚¨      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. ç®€å†åˆ†æ
- âœ… æ”¯æŒPDFå’ŒWordæ ¼å¼ç®€å†ä¸Šä¼ 
- ğŸ”„ è‡ªåŠ¨ä¸Šä¼ åˆ°RAGFlowäº‘ç«¯å»ºç«‹äººæ‰åº“
- ğŸ¤– å¤šæ™ºèƒ½ä½“åä½œåˆ†æç®€å†
- ğŸ“Š æ ¹æ®å²—ä½å…¨æ–¹ä½åˆ†æå¹¶æ‰“åˆ†

### 2. ç®€å†æ¥æº
- ğŸ”„ æ¥å…¥æ‹›è˜ç½‘ç«™è‡ªåŠ¨è·å–ç®€å†ï¼ˆé¢„ç•™åŠŸèƒ½ï¼‰
- ğŸ”„ è‡ªåŠ¨ä¸Šä¼ åˆ°ç³»ç»Ÿï¼ˆé¢„ç•™åŠŸèƒ½ï¼‰

### 3. æ¨¡å‹é…ç½®
- âœ… ç”¨æˆ·å¯é…ç½®ä¸»æµAIæ¨¡å‹
- âœ… åªéœ€è¾“å…¥KEYã€URLã€MODEL NAME
- âœ… æ”¯æŒOpenAIã€å›½å†…æ¨¡å‹ã€å¼€æºæ¨¡å‹

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Python 3.9+
- PostgreSQL 15+
- Redis 7+
- Docker & Docker Compose

### å¿«é€Ÿå¼€å§‹

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd AI_HR
```

#### 2. ä½¿ç”¨Dockerå¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### 3. æœ¬åœ°å¼€å‘å¯åŠ¨

**Linux/Mac:**
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
./scripts/dev-start.sh

# åœæ­¢å¼€å‘ç¯å¢ƒ
./scripts/dev-stop.sh
```

**Windows:**
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
scripts\dev-start.bat

# åœæ­¢å¼€å‘ç¯å¢ƒ
scripts\dev-stop.bat
```

#### 4. è®¿é—®åº”ç”¨
- å‰ç«¯åº”ç”¨: http://localhost:3000
- åç«¯API: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs

### é¡¹ç›®ç»“æ„

```
AI_HR/
â”œâ”€â”€ frontend/                    # Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ constants/         # å¸¸é‡å®šä¹‰
â”œâ”€â”€ backend/                     # FastAPIåç«¯åº”ç”¨
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ domain/            # é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ application/       # åº”ç”¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ infrastructure/    # åŸºç¡€è®¾æ–½
â”‚   â”‚   â””â”€â”€ services/          # é¢†åŸŸæœåŠ¡
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docker/                     # Dockeré…ç½®
â””â”€â”€ scripts/                    # å¯åŠ¨è„šæœ¬
```

## APIæ–‡æ¡£

### è®¤è¯
ç›®å‰ä½¿ç”¨ç®€å•çš„tokenè®¤è¯ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦å®ç°å®Œæ•´çš„JWTè®¤è¯ã€‚

### ç®€å†ç®¡ç†
- `GET /api/v1/resumes` - è·å–ç®€å†åˆ—è¡¨
- `POST /api/v1/resumes/upload` - ä¸Šä¼ ç®€å†
- `GET /api/v1/resumes/{id}` - è·å–ç®€å†è¯¦æƒ…
- `POST /api/v1/resumes/{id}/analyze` - åˆ†æç®€å†
- `GET /api/v1/resumes/{id}/analysis` - è·å–åˆ†æç»“æœ

### AIæ¨¡å‹é…ç½®
- `GET /api/v1/ai-models` - è·å–æ¨¡å‹åˆ—è¡¨
- `POST /api/v1/ai-models` - åˆ›å»ºæ¨¡å‹é…ç½®
- `PUT /api/v1/ai-models/{id}` - æ›´æ–°æ¨¡å‹é…ç½®
- `POST /api/v1/ai-models/{id}/test` - æµ‹è¯•æ¨¡å‹è¿æ¥

### RAGFlowé›†æˆ
- `POST /api/v1/ragflow/knowledge-bases` - åˆ›å»ºçŸ¥è¯†åº“
- `POST /api/v1/ragflow/knowledge-bases/{kb_id}/documents` - ä¸Šä¼ æ–‡æ¡£
- `GET /api/v1/ragflow/knowledge-bases/{kb_id}/search` - æœç´¢æ–‡æ¡£

## éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ
ä½¿ç”¨æä¾›çš„å¯åŠ¨è„šæœ¬ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚

### ç”Ÿäº§ç¯å¢ƒ

#### 1. ä½¿ç”¨Docker Compose
```bash
# å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose --profile production up -d
```

#### 2. æ‰‹åŠ¨éƒ¨ç½²
1. å®‰è£…ä¾èµ–ï¼ˆPostgreSQLã€Redisã€Node.jsã€Pythonï¼‰
2. é…ç½®ç¯å¢ƒå˜é‡
3. åˆå§‹åŒ–æ•°æ®åº“
4. å¯åŠ¨åç«¯æœåŠ¡
5. æ„å»ºå¹¶å¯åŠ¨å‰ç«¯æœåŠ¡

### ç¯å¢ƒå˜é‡é…ç½®

#### åç«¯ç¯å¢ƒå˜é‡
```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql+asyncpg://user:pass@host:5432/db

# Redisé…ç½®
REDIS_URL=redis://host:6379

# RAGFlowé…ç½®
RAGFLOW_BASE_URL=https://api.ragflow.ai
RAGFLOW_API_KEY=your-api-key

# å®‰å…¨é…ç½®
SECRET_KEY=your-secret-key
```

#### å‰ç«¯ç¯å¢ƒå˜é‡
```bash
REACT_APP_API_BASE_URL=http://your-api-server:8000
REACT_APP_WS_BASE_URL=ws://your-api-server:8000
```

## æµ‹è¯•

### è¿è¡Œæµ‹è¯•

**åç«¯æµ‹è¯•:**
```bash
cd backend
pytest
```

**å‰ç«¯æµ‹è¯•:**
```bash
cd frontend
npm test
```

### æµ‹è¯•è¦†ç›–ç‡
```bash
# åç«¯
pytest --cov=app

# å‰ç«¯
npm run test:coverage
```

## ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—é…ç½®
- åº”ç”¨æ—¥å¿—: `logs/app.log`
- é”™è¯¯æ—¥å¿—: `logs/error.log`
- è®¿é—®æ—¥å¿—: `logs/access.log`

### ç›‘æ§æŒ‡æ ‡
- APIå“åº”æ—¶é—´
- ç®€å†å¤„ç†æˆåŠŸç‡
- AIæ¨¡å‹è°ƒç”¨æˆåŠŸç‡
- ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„AIæ¨¡å‹æä¾›å•†ï¼Ÿ
A: åœ¨`backend/app/domain/entities/ai_model.py`ä¸­çš„`AIModelProvider`æšä¸¾æ·»åŠ æ–°é€‰é¡¹ï¼Œå¹¶åœ¨ç›¸åº”çš„æœåŠ¡ä¸­å®ç°è°ƒç”¨é€»è¾‘ã€‚

### Q: å¦‚ä½•æ‰©å±•ç®€å†è§£æåŠŸèƒ½ï¼Ÿ
A: ä¿®æ”¹`backend/app/services/langchain_services/agents/`ä¸­çš„æ™ºèƒ½ä½“ï¼Œæ·»åŠ æ–°çš„è§£æé€»è¾‘ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰åˆ†æè¯„åˆ†è§„åˆ™ï¼Ÿ
A: åœ¨`backend/app/services/langgraph_workflows/resume_analysis_workflow.py`ä¸­ä¿®æ”¹è¯„åˆ†é€»è¾‘ã€‚
